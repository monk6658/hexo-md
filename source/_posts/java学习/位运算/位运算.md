---
title: 位运算 #文章页面上的显示名称，一般是中文
date: 2021-03-08 14:16:33 #文章生成时间，一般不改，当然也可以任意修改
categories: JAVA #分类
tags: [按位与,位运算] #文章标签，可空，多标签请用格式，注意:后面有个空格
description: java中位运算的使用及相关应用场景。
---

##  一、按位与&操作

[TOC]

### 1. 定义

​	& 与运算 两个位都是 1 时，结果才为 1，否则为 0。

```java
  1 0 0 1 1
& 1 1 0 0 1
------------------------------
  1 0 0 0 1
```

### 2. 应用场景

#### 2.1 奇偶性判断

```java
n&1 == 0 则为偶数
```

#### 2.2 判断n是否是2的正整数幂

​	原理：2的正整数幂始终比 前一个数字 多一个0

```java
n&(n-1) == 0 为2的正整数幂
eg:
    n  = 16 = 1 0 0 0 0
 & n-1 = 15 = 0 1 1 1 1
------------------------------ 
              0
```

#### 2.3 统计n中1的个数

1. 判断奇偶，计数器+1，右移（只能正整数，负数死循环）

   ```java
   int count1(int n){
       // 负数取绝对值
       n = n < 0 ? Math.abs(n) : n;
       int count = 0;
       while (n!=0){
           if((n&1) != 0){
               count++;
           }
           n>>=1;
       }
       return count;
   }
   ```

2. 根据最大正整数幂

    ```java
    int count1(int n){
        // 负数取绝对值
        n = n < 0 ? Math.abs(n) : n;
        int count = 0;
        while (n!=0){
            n = (n - 1) & n;
            count++;
        }
        return count;
    }
    ```

## 二、 按位或运算 |

### 1. 定义

​		| 或运算 两个位都是 0 时，结果才为 0，否则为 1。

```java
  1 0 0 1 1
| 1 1 0 0 1
------------------------------
  1 1 0 1 1
```



## 三、异或运算 ^ 

### 1. 定义

​		^ 异或运算，两个位相同则为 0，不同则为 1。

```java
  1 0 0 1 1
^ 1 1 0 0 1
-----------------------------
  0 1 0 1 0
```

## 四、取反运算 ~

### 1. 定义

​	~ 取反运算，0 则变为 1，1 则变为 0。

```java
~ 1 0 0 1 1
-----------------------------
  0 1 1 0 0
```

## 五、左移运算 << 

### 1. 定义	

​	<< 左移运算，向左进行移位操作，高位丢弃，低位补 0。

```java
int a = 8;
a << 3;
移位前：0000 0000 0000 0000 0000 0000 0000 1000
移位后：0000 0000 0000 0000 0000 0000 0100 0000
```

### 2. 应用场景

1. 实现2的幂次方乘法   

```java
int a = 2;
a << 1; ---> a*2 = 4
a << 3; ---> a*2³ = 16
```

2. 






## 六、右移运算 >>

### 1. 定义

​	\>> 右移运算，向右进行移位操作，对无符号数，高位补 0，对于有符号数，高位补符号位。

```
int a = 8;
a >> 3;
移位前：0000 0000 0000 0000 0000 0000 0000 1000
移位后：0000 0000 0000 0000 0000 0000 0000 0001

int a = -8;
a >> 3;
移位前：1111 1111 1111 1111 1111 1111 1111 1000
移位前：1111 1111 1111 1111 1111 1111 1111 1111
```





## 参考

\- [位运算 之（1） 按位与（AND）& 操作](https://www.cnblogs.com/roamman/archive/2010/08/17/1801392.html)